{"ast":null,"code":"const handleSubmit = async e => {\n  e.preventDefault();\n  const {\n    fname,\n    lname,\n    email,\n    phone,\n    message\n  } = formData;\n  const namePattern = /^[A-Za-z]+$/;\n  const phonePattern = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n  const newErrorMessages = {\n    fname: !namePattern.test(fname) ? \"First name should contain alphabetic characters only.\" : \"\",\n    lname: !namePattern.test(lname) ? \"Last name should contain alphabetic characters only.\" : \"\",\n    email: !validateEmail(email) ? \"Please enter a valid email address.\" : \"\",\n    phone: !phonePattern.test(phone) ? \"Please enter a valid phone number.\" : \"\",\n    message: \"\" // No validation for the message field\n  };\n  setErrorMessages(newErrorMessages);\n  if (Object.values(newErrorMessages).some(message => message !== \"\")) {\n    return;\n  }\n\n  // Proceed with form submission\n  const options = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(formData)\n  };\n  try {\n    const res = await fetch('https://courseenquiryform-default-rtdb.firebaseio.com/EnquiryFormData.json', options);\n    if (res.ok) {\n      // Send email notification\n      axios.post(\"http://localhost:5000/submit\", {\n        email,\n        message\n      }).then(response => {\n        console.log(response.data); // Log the response\n        alert(\"Thank you for submitting the form.\");\n      }).catch(error => {\n        console.error(error);\n        alert(\"An error occurred while sending the email notification.\");\n      });\n\n      // Reset form data\n      setFormData({\n        fname: \"\",\n        lname: \"\",\n        email: \"\",\n        phone: \"\",\n        message: \"\"\n      });\n    } else {\n      alert(\"Error: \" + res.status);\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    alert(\"Error: \" + error.message);\n  }\n};","map":{"version":3,"names":["handleSubmit","e","preventDefault","fname","lname","email","phone","message","formData","namePattern","phonePattern","newErrorMessages","test","validateEmail","setErrorMessages","Object","values","some","options","method","headers","body","JSON","stringify","res","fetch","ok","axios","post","then","response","console","log","data","alert","catch","error","setFormData","status"],"sources":["D:/Trafyai-Site - Copy/Trafyaiweb/client/src/components/common/auth/enquiry/CourseEnquiry.jsx"],"sourcesContent":["const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const { fname, lname, email, phone, message } = formData;\r\n\r\n    const namePattern = /^[A-Za-z]+$/;\r\n    const phonePattern = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\r\n\r\n    const newErrorMessages = {\r\n        fname: !namePattern.test(fname) ? \"First name should contain alphabetic characters only.\" : \"\",\r\n        lname: !namePattern.test(lname) ? \"Last name should contain alphabetic characters only.\" : \"\",\r\n        email: !validateEmail(email) ? \"Please enter a valid email address.\" : \"\",\r\n        phone: !phonePattern.test(phone) ? \"Please enter a valid phone number.\" : \"\",\r\n        message: \"\" // No validation for the message field\r\n    };\r\n\r\n    setErrorMessages(newErrorMessages);\r\n\r\n    if (Object.values(newErrorMessages).some(message => message !== \"\")) {\r\n        return;\r\n    }\r\n\r\n    // Proceed with form submission\r\n    const options = {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(formData)\r\n    };\r\n\r\n    try {\r\n        const res = await fetch('https://courseenquiryform-default-rtdb.firebaseio.com/EnquiryFormData.json', options);\r\n        if (res.ok) {\r\n            // Send email notification\r\n            axios.post(\"http://localhost:5000/submit\", {\r\n                email,\r\n                message\r\n            })\r\n            .then(response => {\r\n                console.log(response.data); // Log the response\r\n                alert(\"Thank you for submitting the form.\");\r\n            })\r\n            .catch(error => {\r\n                console.error(error);\r\n                alert(\"An error occurred while sending the email notification.\");\r\n            });\r\n\r\n            // Reset form data\r\n            setFormData({\r\n                fname: \"\",\r\n                lname: \"\",\r\n                email: \"\",\r\n                phone: \"\",\r\n                message: \"\"\r\n            });\r\n        } else {\r\n            alert(\"Error: \" + res.status);\r\n        }\r\n    } catch (error) {\r\n        console.error('Error:', error);\r\n        alert(\"Error: \" + error.message);\r\n    }\r\n};\r\n"],"mappings":"AAAA,MAAMA,YAAY,GAAG,MAAOC,CAAC,IAAK;EAC9BA,CAAC,CAACC,cAAc,CAAC,CAAC;EAElB,MAAM;IAAEC,KAAK;IAAEC,KAAK;IAAEC,KAAK;IAAEC,KAAK;IAAEC;EAAQ,CAAC,GAAGC,QAAQ;EAExD,MAAMC,WAAW,GAAG,aAAa;EACjC,MAAMC,YAAY,GAAG,oDAAoD;EAEzE,MAAMC,gBAAgB,GAAG;IACrBR,KAAK,EAAE,CAACM,WAAW,CAACG,IAAI,CAACT,KAAK,CAAC,GAAG,uDAAuD,GAAG,EAAE;IAC9FC,KAAK,EAAE,CAACK,WAAW,CAACG,IAAI,CAACR,KAAK,CAAC,GAAG,sDAAsD,GAAG,EAAE;IAC7FC,KAAK,EAAE,CAACQ,aAAa,CAACR,KAAK,CAAC,GAAG,qCAAqC,GAAG,EAAE;IACzEC,KAAK,EAAE,CAACI,YAAY,CAACE,IAAI,CAACN,KAAK,CAAC,GAAG,oCAAoC,GAAG,EAAE;IAC5EC,OAAO,EAAE,EAAE,CAAC;EAChB,CAAC;EAEDO,gBAAgB,CAACH,gBAAgB,CAAC;EAElC,IAAII,MAAM,CAACC,MAAM,CAACL,gBAAgB,CAAC,CAACM,IAAI,CAACV,OAAO,IAAIA,OAAO,KAAK,EAAE,CAAC,EAAE;IACjE;EACJ;;EAEA;EACA,MAAMW,OAAO,GAAG;IACZC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE;IACpB,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACf,QAAQ;EACjC,CAAC;EAED,IAAI;IACA,MAAMgB,GAAG,GAAG,MAAMC,KAAK,CAAC,4EAA4E,EAAEP,OAAO,CAAC;IAC9G,IAAIM,GAAG,CAACE,EAAE,EAAE;MACR;MACAC,KAAK,CAACC,IAAI,CAAC,8BAA8B,EAAE;QACvCvB,KAAK;QACLE;MACJ,CAAC,CAAC,CACDsB,IAAI,CAACC,QAAQ,IAAI;QACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAAC;QAC5BC,KAAK,CAAC,oCAAoC,CAAC;MAC/C,CAAC,CAAC,CACDC,KAAK,CAACC,KAAK,IAAI;QACZL,OAAO,CAACK,KAAK,CAACA,KAAK,CAAC;QACpBF,KAAK,CAAC,yDAAyD,CAAC;MACpE,CAAC,CAAC;;MAEF;MACAG,WAAW,CAAC;QACRlC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,KAAK,EAAE,EAAE;QACTC,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,MAAM;MACH2B,KAAK,CAAC,SAAS,GAAGV,GAAG,CAACc,MAAM,CAAC;IACjC;EACJ,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZL,OAAO,CAACK,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9BF,KAAK,CAAC,SAAS,GAAGE,KAAK,CAAC7B,OAAO,CAAC;EACpC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}