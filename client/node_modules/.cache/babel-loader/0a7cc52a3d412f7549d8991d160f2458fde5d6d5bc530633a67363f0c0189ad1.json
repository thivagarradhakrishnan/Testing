{"ast":null,"code":"import React,{useState}from\"react\";import'./LandingPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LandingNewsletter=()=>{const[userData,setUserData]=useState({email:\"\"});const[errorMessage,setErrorMessage]=useState(\"\");const[subscribed,setSubscribed]=useState(false);// State to track if the user has subscribed\nconst handleInputChange=event=>{const{name,value}=event.target;setUserData({...userData,[name]:value});};const handleSubmit=async event=>{event.preventDefault();const{email}=userData;if(!email){setErrorMessage(\"Please fill in the required fields.\");return;}// Validation of email format can be added here if needed\ntry{const response=await fetch('https://newsletter-form-9e6c9-default-rtdb.firebaseio.com/NewsLetterForm.json',{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({email})});if(response.ok){setSubscribed(true);// Set subscribed state to true\nsetErrorMessage(\"\");// Clear error message\nsetUserData({email:\"\"});// Clear the input field\n}else{setErrorMessage(\"Error submitting the form. Please try again later.\");}}catch(error){console.error(\"Error submitting the form:\",error);setErrorMessage(\"Error submitting the form. Please try again later.\");}};// Function to render the form or the thank you message\nconst renderFormOrMessage=()=>{if(subscribed){return/*#__PURE__*/_jsx(\"div\",{className:\"landing-newsletter-heading\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for subscribing to our newsletter!\"})});}else{return/*#__PURE__*/_jsxs(\"div\",{className:\"landing-newsletter-container-inner\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"landing-newsletter-heading\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Get instant alerts on new breakthroughs and openings in your industry.\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"landing-newsletter-form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Email\",value:userData.email,onChange:handleInputChange,required:true,autoComplete:\"off\",name:\"email\",className:\"landing-newsletter-email\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:errorMessage}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]})})]});}};return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"landing-newsletter\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"landing-newsletter-container\",children:[renderFormOrMessage(),\" \"]})})});};export default LandingNewsletter;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","LandingNewsletter","userData","setUserData","email","errorMessage","setErrorMessage","subscribed","setSubscribed","handleInputChange","event","name","value","target","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","error","console","renderFormOrMessage","className","children","onSubmit","type","placeholder","onChange","required","autoComplete"],"sources":["D:/Trafyai-Site/Trafyaiweb/client/src/components/landing-page/LandingNewsletter.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport './LandingPage.css';\r\n\r\nconst LandingNewsletter = () => {\r\n    const [userData, setUserData] = useState({\r\n        email: \"\"\r\n    });\r\n    const [errorMessage, setErrorMessage] = useState(\"\");\r\n    const [subscribed, setSubscribed] = useState(false); // State to track if the user has subscribed\r\n\r\n    const handleInputChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setUserData({ ...userData, [name]: value });\r\n    };\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n\r\n        const { email } = userData;\r\n\r\n        if (!email) {\r\n            setErrorMessage(\"Please fill in the required fields.\");\r\n            return;\r\n        }\r\n\r\n        // Validation of email format can be added here if needed\r\n\r\n        try {\r\n            const response = await fetch('https://newsletter-form-9e6c9-default-rtdb.firebaseio.com/NewsLetterForm.json', {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\"\r\n                },\r\n                body: JSON.stringify({ email })\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSubscribed(true); // Set subscribed state to true\r\n                setErrorMessage(\"\"); // Clear error message\r\n                setUserData({ email: \"\" }); // Clear the input field\r\n            } else {\r\n                setErrorMessage(\"Error submitting the form. Please try again later.\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error submitting the form:\", error);\r\n            setErrorMessage(\"Error submitting the form. Please try again later.\");\r\n        }\r\n    };\r\n\r\n    // Function to render the form or the thank you message\r\n    const renderFormOrMessage = () => {\r\n        if (subscribed) {\r\n            return (\r\n                <div className=\"landing-newsletter-heading\">\r\n                    <p>Thank you for subscribing to our newsletter!</p>\r\n                </div>\r\n            );\r\n        }\r\n        \r\n        else {\r\n            return (\r\n                <div className=\"landing-newsletter-container-inner\">\r\n                    <div className=\"landing-newsletter-heading\">\r\n                        <p>Get instant alerts on new breakthroughs and openings in your industry.</p>\r\n                   </div>\r\n                   <div className=\"landing-newsletter-form\">\r\n                      <form onSubmit={handleSubmit}>\r\n                        <input\r\n                            type=\"email\"\r\n                            placeholder=\"Email\"\r\n                            value={userData.email}\r\n                            onChange={handleInputChange}\r\n                            required\r\n                            autoComplete=\"off\"\r\n                            name=\"email\"\r\n                            className=\"landing-newsletter-email\"\r\n                        />\r\n                        {errorMessage && <p className=\"error-message\">{errorMessage}</p>}\r\n                        <button type=\"submit\">Submit</button>\r\n                     </form>\r\n                </div>\r\n                </div>\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <div className=\"landing-newsletter\">\r\n                <div className=\"landing-newsletter-container\">\r\n                {renderFormOrMessage()} {/* Render form or thank you message */}\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n};\r\n\r\nexport default LandingNewsletter;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}